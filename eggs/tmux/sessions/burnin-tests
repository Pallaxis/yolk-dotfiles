#!/usr/bin/env bash

session_name="burnin-tests"
if [[ ! -d ~/work/projects/"$session_name" ]]; then
    mkdir -p ~/work/projects/"$session_name"
fi

# Create or attach to session (detached)
tmux new-session -Ad -s "$session_name"

# Creating windows with initial commands
tmux new-window -t $session_name:1 -k -n "proj dir" -c ~/work/projects/"$session_name"
tmux new-window -t $session_name:2 -k -n "mikyla" -c ~/ "sh -c 'ssh mikyla; exec \$SHELL'"
tmux new-window -t $session_name:3 -k -n "instructions" -c ~/ "sh -c 'nvim ~/docs/markdown-notes/own-burn-in.md; exec \$SHELL'"

# Modifying windows/panes
# tmux split-window -h -p 50 -t "$session_name":2
tmux select-window -t "$session_name":2

tmux switch-client -t "$session_name"
